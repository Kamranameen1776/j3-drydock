<jb-details-layout-figma>
  <jb-project-header
    alayout-header
    *ngIf="projectId"
    [projectId]="projectId"
  ></jb-project-header>
  <ng-container alayout-content>
    <ng-container [ngSwitch]="currentSectionId">
      <ng-container *ngSwitchCase="eProjectDetailsSideMenuId.General">
        <div #general>TODO insert general component here</div>
      </ng-container>

      <ng-container *ngSwitchCase="eProjectDetailsSideMenuId.Specifications">
        <div #specifications>
          <div #technical_specification>
            <jb-specifications
              [projectId]="projectId"
              [vesselUid]="vesselUid"
            ></jb-specifications>
          </div>

          <div #requisition>
            <!-- TODO insert requisition component here -->
          </div>

          <div #attachments>
            <jb-layout-widget
              *ngIf="attachmentConfig"
              [size]="'auto'"
              titleText="Attachments"
            >
              <ng-container awidget-header-buttons>
                <jb-button
                  [type]="attachmentButton.buttonType"
                  (click)="onAddAttachment()"
                  [label]="attachmentButton.buttonLabel"
                ></jb-button>
              </ng-container>
              <jb-attachments
                #attachmentsComponent
                awidget-content
                class="attachments"
                [attachConfig]="attachmentConfig"
                [onUploadBtn]="false"
                [defaultActions]="true"
              ></jb-attachments>
            </jb-layout-widget>
          </div>
        </div>
      </ng-container>

      <ng-container *ngSwitchCase="eProjectDetailsSideMenuId.YardSelection">
        <div #yard_selection>
          <div #rfq>
            <!-- TODO projectId from details -->
            <jb-drydock-rfq [projectId]="projectId"></jb-drydock-rfq>
          </div>
          <div #comparison>TODO insert comparison component here</div>
        </div>
      </ng-container>

      <ng-container *ngSwitchCase="eProjectDetailsSideMenuId.ProjectMonitoring">
        <div #project_monitoring>
          <div #statement_of_facts>
            <jb-statement-of-facts [projectId]="projectId"></jb-statement-of-facts>
          </div>
        </div>
      </ng-container>
    </ng-container>
  </ng-container>

  <ng-container alayout-aside>
    <jb-layout-widget
      [size]="'auto'"
      [hideHeader]="true"
      class="discussion-feed"
      *ngIf="isDiscussionFeedVisible && discussionFeedDetails"
    >
      <jb-discussion-feed
        awidget-content
        [detail]="discussionFeedDetails"
        [canAdd]="true"
        [function_code]="discussionFeedFunctionCode"
        [module_code]="discussionFeedModuleCode"
        [isCloseView]="true"
      ></jb-discussion-feed>
    </jb-layout-widget>
  </ng-container>
</jb-details-layout-figma>

<jb-growl [content]="growlMessage$ | async"></jb-growl>
